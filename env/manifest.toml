version = 1

[services.goku]
command = "bun ~/src/ts/daemons/watch.ts"

# TODO: mby combine this into 1 service above?
# or 1 optimized rust service that watches over various things and is easy to modify
# + cache and show colored logs
[services.ts-run]
command = "cd ~/src/ts/scripts && bun --watch p-run.ts"

[install]
eza.pkg-path = "eza"
bat.pkg-path = "bat"
edgedb.pkg-path = "edgedb"
python3.pkg-path = "python3"
coreutils.pkg-path = "coreutils"
parallel.pkg-path = "parallel"
nil.pkg-path = "nil"
nixfmt.pkg-path = "nixfmt"
nixd.pkg-path = "nixd"
deploy-rs.pkg-path = "deploy-rs"
nixos-rebuild.pkg-path = "nixos-rebuild"
nix-index.pkg-path = "nix-index"
# go_1_23.pkg-path = "go_1_23"
# gh.pkg-path = "gh"
xcpretty.pkg-path = "xcpretty"
htop.pkg-path = "htop"
lsof.pkg-path = "lsof"
fd.pkg-path = "fd"
topgrade.pkg-path = "topgrade"
mkpasswd.pkg-path = "mkpasswd"
poetry.pkg-path = "poetry"
hyperfine.pkg-path = "hyperfine"
clickhouse.pkg-path = "clickhouse"
pnpm_9.flake = "github:scrumplex/nixpkgs/pkgs/pnpm/9.15#pnpm"
direnv.pkg-path = "direnv"
fnm.pkg-path = "fnm"
odin.pkg-path = "odin"
watchexec.pkg-path = "watchexec"
btop.pkg-path = "btop"
dnslookup.pkg-path = "dnslookup"
zoxide.pkg-path = "zoxide"
zls.pkg-path = "zls"
just.pkg-path = "just"

[options]
systems = ["aarch64-darwin"]
cuda-detection = false       # saves on loading time as I don't use cuda
